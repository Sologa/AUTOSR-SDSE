# Requirements Checklist: Codex CLI Keywords Provider Switch

**Purpose**: 驗證需求完整性與可測試性  
**Created**: 2026-01-13  
**Feature**: `docs/specs/001-codex-cli-keywords/spec.md`

**Note**: This checklist is generated by the `/speckit.checklist` command based on feature context and requirements.

## Specification Completeness

- [ ] CHK001 所有 user stories 皆有 acceptance scenarios
- [ ] CHK002 需求條款使用 MUST 且可測試
- [ ] CHK003 無 [NEEDS CLARIFICATION] 留在需求本體
- [ ] CHK004 成功條件可量化

## Provider Switching Behavior

- [ ] CHK005 provider 預設仍為 openai
- [ ] CHK006 provider=codex-cli 時僅新增支線，不影響 OpenAI 路徑
- [ ] CHK007 缺少 PDFs 時會直接報錯並停止

## Output Compatibility

- [ ] CHK008 codex-cli 輸出與既有 keywords schema 相容
  - 驗證命令：`python -c "import json; d=json.load(open('workspaces/<topic>/keywords/keywords.json')); assert all(k in d for k in ['topic','anchor_terms','search_terms','papers'])"`
- [ ] CHK009 search_terms 正規化後不超過 max_queries
  - 驗證命令：`python -c "import json; d=json.load(open('workspaces/<topic>/keywords/keywords.json')); total=sum(len(v) for v in d['search_terms'].values()); assert total <= 50"`
- [ ] CHK010 anchor_terms 與 metadata 對齊規則仍成立
  - 驗證命令：`python -c "import json; d=json.load(open('workspaces/<topic>/keywords/keywords.json')); assert len(d['anchor_terms']) >= 1"`

## Traceability

- [ ] CHK011 codex-cli run record 含模型、命令、輸入 PDFs
- [ ] CHK012 產出路徑與時間戳可重現

## Notes

- Check items off as completed: `[x]`
- Add findings inline as needed
